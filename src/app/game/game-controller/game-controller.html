<div class="absolute inset-0 w-full h-full bg-white z-50 hidden" [class.hidden]=""></div>
<div class="p-3 backdrop-blur-xl max-w-3xl mx-auto rounded-xl shadow-2xl bg-white/20">
  <div class="flex justify-center items-center w-full px-24 py-12">
    <div class="grid grid-cols-4 gap-4 w-full max-w-xl">
      @for (card of gameDeck; track $index) {
        <div
          class="card-anim-wrapper"
          [class.deal-anim]="dealAnimationActive()"
          [style.animationDelay]="$index * 0.08 + 's'"
        >
          <card
            [matched]="matchedIndices().includes($index)"
            [class.pointer-events-none]="dealAnimationActive() || locked()"
            [suit]="card.suit"
            [value]="card.value"
            [isFlipped]="previewActive() || flippedIndices().includes($index)"
            (flipRequest)="flipCard($index)"
          ></card>
        </div>
      }
    </div>
  </div>
  <button (click)="resetGame()" class="bg-cyan-300 p-2 cursor-pointer rounded text-white">
    Reset
  </button>
  <span>{{ timeLeft() }}</span>
</div>
